# AzerothCore용 mod-server-auto-shutdown

## 소개

이 모듈은 서버 관리자가 AzerothCore 서버의 자동 서버 재시작 또는 종료를 예약할 수 있는 강력한 솔루션을 제공합니다. 수동 개입 없이 정기적인 유지 관리, 서버 재시작이 필요한 업데이트 적용, 장기적인 서버 안정성 보장을 돕기 위해 설계되었습니다.

## 기능

- **예약된 작업**: 특정 시간에 서버를 재시작하거나 종료하도록 구성합니다.
- **유연한 예약**:
    - X일마다 작업을 실행하도록 예약합니다.
    - 특정 요일(예: 매주 일요일)에 작업을 실행하도록 예약합니다.
- **플레이어 공지**: 서버가 종료되기 전에 모든 온라인 플레이어에게 사용자 지정 가능한 전역 공지를 자동으로 방송하여, 플레이어가 활동을 마칠 시간을 확보하도록 합니다.
- **게임 이벤트 관리**: 서버가 시작될 때마다 지정된 게임 이벤트 목록을 자동으로 시작합니다.
- **쉬운 구성**: 모든 기능은 단일의 잘 문서화된 구성 파일을 통해 제어됩니다.

## 설치

1.  이 저장소를 AzerothCore 소스 폴더의 `modules` 디렉터리에 복제합니다.
2.  `modules/CMakeLists.txt` 파일에 `add_subdirectory(mod-server-auto-shutdown)`를 추가하여 CMake 구성에 모듈을 추가합니다.
3.  CMake 구성 단계를 다시 실행합니다.
4.  서버를 다시 컴파일합니다.

## 구성

첫 실행 후, 서버의 구성 디렉터리에 `ServerAutoShutdown.conf` 파일이 생성됩니다. 이 파일을 편집하여 모듈의 동작을 제어할 수 있습니다.

**`ServerAutoShutdown.Enabled`**
> 모듈을 활성화하거나 비활성화합니다.
>
> `0` = 비활성화 (기본값)
>
> `1` = 활성화

**`ServerAutoShutdown.EveryDays`**
> X일마다 작업을 트리거하도록 설정합니다. `ServerAutoShutdown.Weekday`가 유효한 값으로 설정된 경우 이 설정은 무시됩니다.
>
> 기본값: `1` (매일)

**`ServerAutoShutdown.Weekday`**
> 주중 특정 요일에 작업을 트리거하도록 설정합니다.
>
> `0` = 일요일, `1` = 월요일, `2` = 화요일, ..., `6` = 토요일
>
> 기본값: `-1` (비활성화)

**`ServerAutoShutdown.Time`**
> 작업이 발생할 시간(24시간 형식의 "HH:MM:SS").
>
> 기본값: `"04:00:00"`

**`ServerAutoShutdown.Action`**
> 예약된 시간에 수행할 작업입니다.
>
> `"restart"` = 서버가 자동으로 재시작됩니다. (기본값)
>
> `"shutdown"` = 서버가 종료되며 자동으로 재시작되지 않습니다.

**`ServerAutoShutdown.PreAnnounce.Seconds`**
> 예약된 작업이 시작되기 몇 초 전에 플레이어에게 공지 메시지를 방송할지 설정합니다.
>
> 기본값: `3600` (1시간)

**`ServerAutoShutdown.PreAnnounce.Message`**
> 모든 플레이어에게 방송될 메시지입니다. 남은 시간 문자열(예: "1시간 30분")에 대한 자리 표시자로 `{}`를 사용합니다.
>
> 기본값: `"[SERVER]: 자동 서버 재시작까지 {} 남았습니다."`

**`ServerAutoShutdown.StartEvents`**
> 서버 부팅 시 자동으로 시작할 게임 이벤트 ID를 공백으로 구분한 목록입니다.
>
> 예시: `"1 2"` (한여름 축제와 겨울맞이 축제를 시작합니다)
>
> 기본값: `""` (이벤트 없음)